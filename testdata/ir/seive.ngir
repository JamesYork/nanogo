package runtime "runtime"

package main "github.com/rj45/nanogo/testdata/seive"

var main__init_guard:*bool
var main__num:*int
var main__primes:*[16382]struct{prime int; multiple int}

func main__init:
.b0:
  v0:bool = load   ^main__init_guard
  if2    v0, b1, b2
.b1:
  jump2 b3
.b2:
  v1:bool = store  ^main__init_guard, true
  jump2 b3
.b3:
  return2

func main__main:
.b0:
  jump2 b1
.b1:
  v0:int = phi    3, v7
  v1:int = phi    9, v8
  v2:int = phi    7, v9
  v3:int = phi    3, v57
  v4:bool = less   v3, 32750
  if2    v4, b3, b2
.b2:
  jump2 b27
.b3:
  v5:int = load   ^main__num
  v6:bool = less   v5, 16382
  if2    v6, b4, b5
.b4:
  jump2 b6
.b5:
  jump2 b27
.b6:
  v7:int = phi    v0, v12
  v8:int = phi    v1, v13
  v9:int = phi    v2, v14
  v10:bool = less   v8, v3
  if2    v10, b8, b7
.b7:
  jump2 b11
.b8:
  v11:bool = greater v8, 0
  if2    v11, b10, b9
.b9:
  jump2 b11
.b10:
  v12:int = add    v7, 1
  v13:int = add    v8, v9
  v14:int = add    v9, 2
  jump2 b6
.b11:
  jump2 b12
.b12:
  v15:int = phi    0, v44
  v16:int = load   ^main__num
  v17:bool = less   v15, v16
  if2    v17, b14, b13
.b13:
  jump2 b25
.b14:
  v18:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v19:*int = fieldAddr 0, v18
  v21:int = load   v19
  v22:bool = greater v21, v7
  if2    v22, b15, b16
.b15:
  jump2 b25
.b16:
  jump2 b17
.b17:
  v23:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v24:*int = fieldAddr 1, v23
  v26:int = load   v24
  v27:bool = less   v26, v3
  if2    v27, b19, b18
.b18:
  jump2 b22
.b19:
  v28:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v29:*int = fieldAddr 1, v28
  v30:int = load   v29
  v31:bool = greater v30, 0
  if2    v31, b21, b20
.b20:
  jump2 b22
.b21:
  v32:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v33:*int = fieldAddr 1, v32
  v34:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v35:*int = fieldAddr 0, v34
  v36:int = load   v35
  v37:int = load   v33
  v38:int = add    v37, v36
  v39:int = store  v33, v38
  jump2 b17
.b22:
  v40:*struct{prime int; multiple int} = indexAddr ^main__primes, v15
  v41:*int = fieldAddr 1, v40
  v42:int = load   v41
  v43:bool = equal  v42, v3
  if2    v43, b23, b24
.b23:
  jump2 b26
.b24:
  v44:int = add    v15, 1
  jump2 b12
.b25:
  v45:int = load   ^main__num
  v46:*struct{prime int; multiple int} = indexAddr ^main__primes, v45
  v47:*int = fieldAddr 0, v46
  v48:int = store  v47, v3
  v49:int = load   ^main__num
  v50:*struct{prime int; multiple int} = indexAddr ^main__primes, v49
  v51:*int = fieldAddr 1, v50
  v52:int = add    v3, v3
  v53:int = store  v51, v52
  v54:int = load   ^main__num
  v55:int = add    v54, 1
  v56:int = store  ^main__num, v55
  callBuiltin println:func(int), v3
  jump2 b26
.b26:
  v57:int = add    v3, 2
  jump2 b1
.b27:
  v58:int = load   ^main__num
  callBuiltin println:func(int), v58
  return2
